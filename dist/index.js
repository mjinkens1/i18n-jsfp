!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("yup"),require("lodash"),require("redux")):"function"==typeof define&&define.amd?define(["yup","lodash","redux"],e):"object"==typeof exports?exports["i18n-jsfp"]=e(require("yup"),require("lodash"),require("redux")):t["i18n-jsfp"]=e(t[void 0],t[void 0],t[void 0])}(window,(function(t,e,r){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=3)}([function(e,r){e.exports=t},function(t,r){t.exports=e},function(t,e){t.exports=r},function(t,e,r){"use strict";r.r(e),r.d(e,"addTranslations",(function(){return ht})),r.d(e,"configure",(function(){return wt})),r.d(e,"setCurrentLocale",(function(){return Lt})),r.d(e,"setFallbackLocale",(function(){return _t})),r.d(e,"translate",(function(){return Bt}));var n=r(2),o=function(t){return Object(n.createStore)(t)},u=r(1),c=function(t){return new Error("[".concat("i18n-jsfp","] ").concat(t))},a=function(t,e){return"The value for the ".concat(t," option must be of type ").concat(e)},i={SET_CURRENT_LOCALE:"SET_CURRENT_LOCALE",SET_FALLBACK_LOCALE:"SET_FALLBACK_LOCALE",SET_LOCALES:"SET_LOCALES"},f={creators:{setCurrentLocale:function(t){return $({type:i.SET_CURRENT_LOCALE,payload:t})},setFallbackLocale:function(t){return $({type:i.SET_FALLBACK_LOCALE,payload:t})},setLocales:function(t){return $({type:i.SET_LOCALES,payload:t})}},types:i},l={SET_CONFIGURATION:"SET_CONFIGURATION"},s={creators:{setConfiguration:function(t){return $({type:l.SET_CONFIGURATION,payload:t})}},types:l},p={ADD_TRANSLATIONS:"ADD_TRANSLATIONS",INCREMENT_SCOPE_PREFIX_ID:"INCREMENT_SCOPE_PREFIX_ID"},y={creators:{addTranslations:function(t){return $({type:p.ADD_TRANSLATIONS,payload:t})},incrementScopePrefixId:function(){return $({type:p.INCREMENT_SCOPE_PREFIX_ID})}},types:p};function b(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function d(t){return function e(r){return 0===arguments.length||b(r)?e:t.apply(this,arguments)}}function g(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return b(r)?e:d((function(e){return t(r,e)}));default:return b(r)&&b(n)?e:b(r)?d((function(e){return t(e,n)})):b(n)?d((function(e){return t(r,e)})):t(r,n)}}}function O(t){return function e(r,n,o){switch(arguments.length){case 0:return e;case 1:return b(r)?e:g((function(e,n){return t(r,e,n)}));case 2:return b(r)&&b(n)?e:b(r)?g((function(e,r){return t(e,n,r)})):b(n)?g((function(e,n){return t(r,e,n)})):d((function(e){return t(r,n,e)}));default:return b(r)&&b(n)&&b(o)?e:b(r)&&b(n)?g((function(e,r){return t(e,r,o)})):b(r)&&b(o)?g((function(e,r){return t(e,n,r)})):b(n)&&b(o)?g((function(e,n){return t(r,e,n)})):b(r)?d((function(e){return t(e,n,o)})):b(n)?d((function(e){return t(r,e,o)})):b(o)?d((function(e){return t(r,n,e)})):t(r,n,o)}}}function j(t){return"[object Object]"===Object.prototype.toString.call(t)}function v(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var h=O((function(t,e,r){var n,o={};for(n in e)v(n,e)&&(o[n]=v(n,r)?t(n,e[n],r[n]):e[n]);for(n in r)v(n,r)&&!v(n,o)&&(o[n]=r[n]);return o})),S=O((function t(e,r,n){return h((function(r,n,o){return j(n)&&j(o)?t(e,n,o):e(r,n,o)}),r,n)})),m=g((function(t,e){return S((function(t,e,r){return r}),t,e)})),T=function(){return u.get.apply(void 0,arguments)},A=function(t){return function(e){return function(){return e(z(t)).apply(void 0,arguments)}}},w=f.types,E={currentLocale:{countryCode:"US",languageTag:"en-US",languageCode:"en"},fallbackLocale:{countryCode:"US",languageTag:"en-US",languageCode:"en"},locales:[{countryCode:"US",languageTag:"en-US",languageCode:"en"}]},P=function(t,e){return m(t,{currentLocale:e})},L=function(t,e){return m(t,{fallbackLocale:e})},_=function(t,e){return m(t,{locales:e})},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0,r=e.type,n=e.payload;switch(r){case w.SET_CURRENT_LOCALE:return P(t,n);case w.SET_FALLBACK_LOCALE:return L(t,n);case w.SET_LOCALES:return _(t,n);default:return t}},I=s.types,N={useAutoScopePrefix:!0,useStrictLanguageTag:!1},x=function(t,e){return m(t,e)},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0,r=e.type,n=e.payload;switch(r){case I.SET_CONFIGURATION:return x(t,n);default:return t}};var D=y.types,F={scopePrefixId:0},k=function(t,e){var r,n,o,u=e.languageTag,c=e.translations;return m(t,(o=c,(n=u)in(r={})?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r))},U=function(t){return m(t,{scopePrefixId:t.scopePrefixId+1})},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,e=arguments.length>1?arguments[1]:void 0,r=e.type,n=e.payload;switch(r){case D.ADD_TRANSLATIONS:return k(t,n);case D.INCREMENT_SCOPE_PREFIX_ID:return U(t);default:return t}};function M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?M(Object(r),!0).forEach((function(e){X(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function X(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var G=B({},f.creators,{},s.creators,{},y.creators),K=(B({},f.types,{},s.types,{},y.types),o(Object(n.combineReducers)({locale:C,settings:R,translations:q}))),$=K.dispatch,Y=K.getState,W=function(t){return t},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;if(!Object(u.isFunction)(t))throw c("You must pass a valid selector function to selectState");return t(Y())},H=g((function(t,e){return null!=e&&e.constructor===t||e instanceof t}));function J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,u=void 0;try{for(var c,a=t[Symbol.iterator]();!(n=(c=a.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,u=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tt=function(t,e,r){return Object.entries(e).reduce((function(e,n){var o=Q(n,2),u=o[0],c=o[1];return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J(Object(r),!0).forEach((function(e){Z(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e,Z({},u,H(Function,c)?function(t,e,r,n){return function(){return G.addTranslations({languageTag:e,translations:Z({},t,Z({},r,n.apply(void 0,arguments)))}),[t,r].filter((function(t){return t})).join(".")}}(t,r,u,c):[t,u].filter((function(t){return t})).join(".")))}),{})};function et(t){return"[object String]"===Object.prototype.toString.call(t)}var rt=g((function(t,e){var r=t<0?e.length+t:t;return et(e)?e.charAt(r):e[r]}))(-1),nt=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)},ot=d((function(t){return!!nt(t)||!!t&&("object"==typeof t&&(!et(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),ut=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();var ct=g((function(t,e){return function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,r){return e.apply(this,arguments)};case 3:return function(t,r,n){return e.apply(this,arguments)};case 4:return function(t,r,n,o){return e.apply(this,arguments)};case 5:return function(t,r,n,o,u){return e.apply(this,arguments)};case 6:return function(t,r,n,o,u,c){return e.apply(this,arguments)};case 7:return function(t,r,n,o,u,c,a){return e.apply(this,arguments)};case 8:return function(t,r,n,o,u,c,a,i){return e.apply(this,arguments)};case 9:return function(t,r,n,o,u,c,a,i,f){return e.apply(this,arguments)};case 10:return function(t,r,n,o,u,c,a,i,f,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}(t.length,(function(){return t.apply(e,arguments)}))}));function at(t,e,r){for(var n=r.next();!n.done;){if((e=t["@@transducer/step"](e,n.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function it(t,e,r,n){return t["@@transducer/result"](r[n](ct(t["@@transducer/step"],t),e))}var ft="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function lt(t,e,r){if("function"==typeof t&&(t=function(t){return new ut(t)}(t)),ot(r))return function(t,e,r){for(var n=0,o=r.length;n<o;){if((e=t["@@transducer/step"](e,r[n]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}(t,e,r);if("function"==typeof r["fantasy-land/reduce"])return it(t,e,r,"fantasy-land/reduce");if(null!=r[ft])return at(t,e,r[ft]());if("function"==typeof r.next)return at(t,e,r);if("function"==typeof r.reduce)return it(t,e,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var st=O(lt);function pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(r),!0).forEach((function(e){bt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function bt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var dt=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.split("."),o=function(t,o){return yt({},t,bt({},o,o===rt(n)?yt({},e,bt({},"$OPTIONS",r)):{}))};return st(o,{},n)},gt=function(t,e,r,n){var o=dt(t,r,n),u=tt(t,r,e);return G.addTranslations({languageTag:e,translations:o}),u};var Ot="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1,n=arguments.length;r<n;){var o=arguments[r];if(null!=o)for(var u in o)v(u,o)&&(e[u]=o[u]);r+=1}return e},jt=d((function(t){return Ot.apply(null,[{}].concat(t))})),vt='You must pass a plain object for the "translations" parameter of addTranslations',ht=A((function(t){return t.translations.scopePrefixId}))((function(t){return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat("__TRANSLATIONS__").concat(t);if(!Object(u.isPlainObject)(e)||!Object.keys(e).length)throw c(vt);var o=Object.keys(e),a=o.map((function(t){var o=r[t];return gt(n,t,e[t],o)}));return G.incrementScopePrefixId(),1===(null==a?void 0:a.length)?a[0]:jt(a)}})),St=r(0),mt=a("useAutoScopePrefix","boolean"),Tt=a("useStrictLanguageTag","string"),At=Object(St.object)({useAutoScopePrefix:Object(St.boolean)(mt),useStrictLanguageTag:Object(St.boolean)(Tt)}),wt=function(t){try{At.validateSync(t),G.setConfiguration(t)}catch(t){var e=t.message;throw c(e)}},Et=Object(St.object)({languageCode:Object(St.string)().required(),scriptCode:Object(St.string)(),countryCode:Object(St.string)().required(),languageTag:Object(St.string)().required(),isRTL:Object(St.boolean)()}),Pt=function(t,e){try{Et.validateSync(t),e(t)}catch(t){throw c("Invalid locale, locales must be an object of the shape:\n  {\n    languageCode: string.required,\n    scriptCode: string.optional,\n    countryCode: string.required,\n    languageTag: string.required,\n    isRTL: boolean.optional,\n  }\n")}},Lt=function(t){Pt(t,G.setCurrentLocale)},_t=function(t){Pt(t,G.setFallbackLocale)};function Ct(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return It(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return It(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Nt=function(t){var e=t.split(/-|_/g),r=e.length;return Ct(e.map((function(t,n){return e.slice(0,r-n).join("-")}))).slice(1).reverse()};function xt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Dt=function(t,e,r,n){var o=Nt(r),u=Number.isInteger(n.fallbackIndex)?n.fallbackIndex-1:o.length-1,c=Boolean(u);return t(e,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(r),!0).forEach((function(e){Rt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},n,{langTag:o[u],fallbackIndex:u,useFallback:c}))};function Ft(t){return function(t){if(Array.isArray(t))return kt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return kt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ut=function(t,e){var r=t.split(".").filter((function(t){return t&&t!==e})),n=r.length<=1?[e].concat(Ft(r),["undefined"]).join("."):t,o=new RegExp("".concat("__TRANSLATIONS__","\\d+").concat(".")),u=n.replace(o,"");return"[missing translation for ".concat(u,"]")},qt={useFallback:!0},Mt=function(t){return{languageTag:t.locale.currentLocale.languageTag,translations:t.translations,useStrictLanguageTag:t.settings.useStrictLanguageTag}},Bt=A(Mt)((function t(e){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qt,o=n.langTag||e.languageTag,u=[o,r].filter((function(t){return t})).join("."),c=n.default||Ut(u,o,e.scopeDelimiter),a=T(e.translations,u);return a||e.useStrictLanguageTag||!n.useFallback?"string"==typeof a&&a||c:Dt(A(Mt)(t),r,o,n)}}))}])}));